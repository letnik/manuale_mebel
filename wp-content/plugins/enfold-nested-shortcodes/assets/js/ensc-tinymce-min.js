!function(a){"use strict";a(function(){tinymce.create("tinymce.plugins.enscShortcode",{init:function(a,b){var c=JSON.parse(enscPHPtmce.titles),d=[{text:enscPHPtmce.value,value:!1}];if(c.length>0)for(var e in c)d.push({text:c[e],value:c[e]});else d.push({text:enscPHPtmce.empty,value:"empty"});a.addButton("ensc_button",{image:enscPHPtmce.image,tooltip:enscPHPtmce.header,onclick:function(){a.execCommand("ensc_shortcode_popup","",{shortcode:"",checkbox:""})}}),a.addCommand("ensc_shortcode_popup",function(b,c){a.windowManager.open({id:"ensc-panel",classes:"ensc-panel",title:enscPHPtmce.header,body:[{type:"container",html:'<div style="max-width:430px;">'+enscPHPtmce.desc+"</div>"},{id:"ensc-floatpanel",classes:"ensc-floatpanel",type:"listbox",name:"title",values:d}],onsubmit:function(b){var c,d;if(c=0==b.data.title?"":b.data.title){if("empty"==c)return;d="["+enscPHPtmce.prefix+' title="'+c+'"]',a.insertContent(d)}}})})},createControl:function(a,b){return null}}),tinymce.PluginManager.add("ensc_shortcodes",tinymce.plugins.enscShortcode)})}(jQuery);